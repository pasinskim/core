body common control
{
    #inputs => { "../../default.cf.sub" };
    #bundlesequence => { default("$(this.promise_filename)") };
    bundlesequence => { "init" };

    #new package promise inventory field
    package_inventory => "apt_get";
}

bundle agent init
{
  packages:
    "firefox"
      policy => "present",
      version => "32.0",
      architecture => "arch",
      package_manager => apt_get,
      #options => {},
      additional_packages => {"chrome", "lynx"};
}

bundle agent test
{
}

body package_manager apt_get
{
    query_installed_ifelapsed => "60";
    query_updates_ifelapsed => "1440";
}

bundle agent check
{

  reports:
    DEBUG::
      "$(test.subout)";
      "$(this.promise_filename) Pass";
}
